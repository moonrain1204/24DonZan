<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä½›ä¹˜å‹•ç¦ª 24 å¼ (V1.1 å°ˆæ¥­ç·¨è¼¯ç‰ˆ)</title>
    <style>
        :root {
            --primary-color: #8e44ad;
            --bg-color: #f4f7f6;
            --card-bg: #ffffff;
            --text-color: #333;
            --accent-color: #f1c40f;
            --play-color: #27ae60;
            --stop-color: #e74c3c;
            --note-bg: #eef7ff;
            --save-btn: #2ecc71;
        }

        body {
            font-family: "Microsoft JhengHei", sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
        }

        .container { max-width: 800px; margin: 0 auto; }
        
        .version-tag { text-align: right; font-size: 0.8rem; color: #888; margin-bottom: -10px; }

        header { text-align: center; padding: 20px 0; border-bottom: 2px solid var(--primary-color); margin-bottom: 30px; }

        .zen-list { display: grid; grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); gap: 12px; }

        .zen-item {
            background: var(--card-bg);
            padding: 15px;
            text-align: center;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            cursor: pointer;
            font-weight: bold;
            border: 1px solid #ddd;
        }

        .zen-item:hover { background: #f0e6ff; border-color: var(--primary-color); }

        #detail-view { display: none; background: var(--card-bg); padding: 20px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }

        .back-btn { background: #95a5a6; color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer; margin-bottom: 20px; }
        
        .save-btn { background: var(--save-btn); color: white; border: none; padding: 12px 25px; border-radius: 5px; cursor: pointer; font-size: 1rem; width: 100%; margin-top: 20px; font-weight: bold; }

        .section-title { color: var(--primary-color); border-left: 5px solid var(--primary-color); padding-left: 10px; margin: 20px 0 10px; }

        textarea {
            width: 100%;
            min-height: 100px;
            padding: 12px;
            border: 1px solid #ccc;
            border-radius: 6px;
            font-family: inherit;
            font-size: 1rem;
            line-height: 1.5;
            background-color: #fff;
            box-sizing: border-box;
            resize: vertical;
        }

        .note-area { background-color: var(--note-bg); border-color: #3498db; }
        .qi-area { background-color: #f9f9f9; }
        .no-qi-area { background-color: #fffaf0; border-color: #f39c12; }

        .audio-controls { margin-bottom: 20px; }
        .audio-row { display: flex; align-items: center; gap: 15px; margin-bottom: 10px; background: #f9f9f9; padding: 10px; border-radius: 8px; border: 1px solid #eee; }
        .audio-label { font-weight: bold; min-width: 80px; }
        .icon-btn { border: none; width: 40px; height: 40px; border-radius: 5px; cursor: pointer; color: white; font-size: 1.2rem; }
    </style>
</head>
<body>

<div class="container">
    <div class="version-tag">Version 1.1</div>
    <header>
        <h1>ä½›ä¹˜å‹•ç¦ª 24 å¼</h1>
        <p>å¿ƒç†åŠŸèª²åŠç”Ÿç†åŠŸèª²</p>
    </header>

    <div id="main-list" class="zen-list"></div>

    <div id="detail-view">
        <button class="back-btn" onclick="showList()">â† è¿”å›åˆ—è¡¨</button>
        <h2 id="detail-title"></h2>

        <div class="audio-controls">
            <div class="audio-row" id="audio-row-1">
                <span class="audio-label" id="label-qi">å£è¨£ï¼š</span>
                <button class="icon-btn" style="background:var(--play-color)" onclick="playAudio(1)">â–¶</button>
                <button class="icon-btn" style="background:var(--stop-color)" onclick="stopAudio()">â– </button>
            </div>
            <div class="audio-row" id="audio-row-2" style="display:none;">
                <span class="audio-label">ä¸å¸¶æ°£ï¼š</span>
                <button class="icon-btn" style="background:var(--play-color)" onclick="playAudio(2)">â–¶</button>
                <button class="icon-btn" style="background:var(--stop-color)" onclick="stopAudio()">â– </button>
            </div>
        </div>

        <h3 class="section-title">å¿ƒç†åŠŸèª²</h3>
        <textarea id="edit-mental"></textarea>

        <h3 class="section-title">ç”Ÿç†åŠŸèª²</h3>
        <textarea id="edit-physical"></textarea>

        <h3 class="section-title">æ³¨æ„äº‹é …</h3>
        <textarea id="edit-note" class="note-area" placeholder="è«‹è¼¸å…¥æ³¨æ„äº‹é …..."></textarea>

        <h3 class="section-title" id="title-qi">å‹•ä½œå£è¨£</h3>
        <textarea id="edit-steps" class="qi-area" placeholder="è«‹è¼¸å…¥è©³ç´°å£è¨£..."></textarea>

        <div id="no-qi-block" style="display:none;">
            <h3 class="section-title">å‹•ä½œå£è¨£ (ä¸å¸¶æ°£ç‰ˆ)</h3>
            <textarea id="edit-no-qi" class="no-qi-area" placeholder="è«‹è¼¸å…¥ä¸å¸¶æ°£å£è¨£..."></textarea>
        </div>

        <button class="save-btn" onclick="saveData()">ğŸ’¾ å„²å­˜æ­¤å¼ä¿®æ”¹</button>
    </div>
</div>

<script>
    const defaultData = {
        1: { name: "ç¦®ä½›æ‹œå¸«", mental: "ä»¥äº”å¯¶ä¹‹ç†å¾·ç‚ºå¸«ï¼Œç™¼å¤§å®é¡˜è¡Œï¼Œå°Šå¸«é‡é“ï¼Œå­æ•¬è¦ªé•·ï¼Œå»ºç«‹ä»¥é–€è¦ç‚ºä¾æ­¢çš„å€«ç†ç§©åºã€‚", physical: "(1)å°Šå¸«é‡é“ï¼Œå€«ç†ç§©åºç¦®ç¯€ä¹‹éµå®ˆã€‚(2)æ´»å‹•è„Šæ¤ç­‰é—œç¯€ï¼Œå°è„Šæ¤ã€é—œç¯€ã€è…¸èƒƒæœ‰åŠ©ç›Šä¹‹æ•ˆã€‚ä¸¦å¯å°æ²»æˆ‘æ…¢ï¼ŒåŸ¹é¤Šæ­æ•¬å¿ƒèˆ‡è¬™è®“å¿ƒã€‚" },
        2: { name: "æ³•è¼ªå¸¸è½‰", mental: "ä¸–å‡ºä¸–æ³•ï¼Œåœ“é€šè‡ªåœ¨ï¼Œä»¥å››æ”æ³•æ™®åº¦çœ¾ç”Ÿã€‚", physical: "é€šå’Œå…¨èº«æ°£è„ˆï¼Œå°é—œç¯€ã€é¢¨æ¿•åŠå…§è‡Ÿç­‰æ…¢æ€§ç—…æœ‰åŠ©ç™‚ä¹‹ç›Šã€‚" },
        3: { 
            name: "èº«å¿ƒä¸€å¦‚", 
            mental: "çœŸç©ºå³æ˜¯å¦™æœ‰ï¼Œèº«å¿ƒä¸€å¦‚ï¼Œç†äº‹ä¸äºŒï¼Œæ…ˆæ‚²å¹³ç­‰ï¼Œå››ç„¡é‡å¿ƒä¹‹è¡ŒæŒã€‚",
            physical: "(1)ä»¥è…¹å‘¼å¸ç‚ºä¸»ï¼ŒåŠ å¼·è…°è…åŠå…¨èº«æ©Ÿèƒ½åŠŸç”¨ä¹‹è¡ŒåŠŸã€‚(2)æœ‰ç›Šæ²»ç™‚è…è™›ã€è…¸èƒƒç—…åŠèº«å¼±å¼•èµ·çš„æ…¢æ€§ç—…ã€‚",
            stepsText: "åšå‹•ç¦ªå‰å…ˆç¥ˆæ±‚ï¼šé›™æ‰‹å„çµä¸€æ³•å°ï¼ŒåˆæŒç½®æ–¼èƒ¸å‰ 15 å…¬åˆ†è™•ï¼Œå¿ƒä¸­é»˜å¿µä¸‰è²ä¹å­—ç¦ªï¼Œç¥ˆæ±‚ç¥–å¸«å¤§æ…ˆå¤§æ‚²å¨å¾·åŠ›åŠ æŒï¼Œè®“å¼Ÿå­ä¿®èº«å¿ƒä¸€å¦‚ï¼Œé †åˆ©ã€æˆåŠŸã€åœ“æ»¿ã€‚\n\né›™è…³æ‰“é–‹èˆ‡è‚©åŒå¯¬ï¼Œè…³æŒå¹³è¡Œï¼Œå¾®å¾®å…§æ‰£ï¼Œè†è“‹å¾®å½ã€‚\n\n1. åˆæŒç½®æ–¼èƒ¸å‰ï¼Œå¸æ°£å…¥ä¸¹ç”°ï¼Œæ°£å¸åˆ°é£½ï¼Œå˜´æˆå°åœ“å½¢åæ°£ï¼Œé›™æ‰‹é †å‹¢å‘å‰å‘ä¸‹æ“ºï¼ŒåŒæ™‚æ›²è†ä¸‹è¹²ã€‚\n\n2. ç•¶å¤§è…¿èˆ‡åœ°é¢å¹³è¡Œï¼Œé›™æ‰‹èˆ‡åœ°é¢å‚ç›´ï¼Œæ‰‹è‡‚å¾€å¾Œæ“ å£“è…¹éƒ¨ï¼ŒåŒæ™‚ç™¼ã€Œå˜¶ã€è²å°‡å°è…¹å‰©é¤˜æ¿æ°£æ’å‡ºï¼Œé›™æ‰‹è‡ªç„¶å›æ“ºã€‚\n\n3. å¸æ°£ï¼Œæ…¢æ…¢èµ·èº«ï¼Œé›™æ‰‹å‘ˆæ„åœ“ç‹€å¾€ä¸Šæå‡ï¼Œè‡³æœƒé™°é«˜åº¦æ™‚æè‚›ï¼ˆç´„ 2-3 ç§’ï¼‰ï¼Œé›™æ‰‹å›è‡³è…°éš›ï¼Œé–‰æ°£ä¸‰ç§’é˜ï¼Œç™¼ã€Œå“ˆã€è²æ…¢æ…¢æŠŠæ°£åæ‰ï¼ŒåŒæ™‚é›™æ‰‹å‘ä¸‹æ…¢æ…¢åˆ†é–‹ã€‚",
            stepsTextNoQi: "é›™è…³æ‰“é–‹èˆ‡è‚©åŒå¯¬ï¼Œè…³æŒå¹³è¡Œï¼Œå¾®å¾®å…§æ‰£ï¼Œè†è“‹å¾®å½ã€‚\nåˆæŒç½®æ–¼èƒ¸å‰ï¼Œé›™æ‰‹é †å‹¢å‘å‰å‘ä¸‹æ“ºï¼ŒåŒæ™‚æ›²è†ä¸‹è¹²\nç•¶å¤§è…¿èˆ‡åœ°é¢å¹³è¡Œï¼Œé›™æ‰‹èˆ‡åœ°é¢å‚ç›´ï¼Œæ‰‹è‡‚å¾€å¾Œæ“ å£“è…¹éƒ¨ï¼ŒåŒæ™‚ç™¼ã€Œå˜¶ã€è²ã€‚\né›™æ‰‹è‡ªç„¶å›æ“ºï¼Œæ…¢æ…¢èµ·èº«ï¼Œé›™æ‰‹å‘ˆæ„åœ“ç‹€å¾€ä¸Šæå‡ï¼Œè‡³æœƒé™°é«˜åº¦æ™‚æè‚›ï¼Œæœ€å¾Œé›™æ‰‹å›è‡³è…°éš›ã€‚"
        },
        4: { name: "æ…§çœ¼è§€ç©º", mental: "ä¼æ–·ä¸‰æƒ‘ï¼ŒçœŸç©ºå¦™æœ‰ä¸€å¦‚ã€‚", physical: "å¢å¼·è¦–åŠ›åŠè…¦åŠ›åŠŸèƒ½ä¹‹è¡ŒåŠŸã€‚" },
        5: { name: "ç©ºå³æ˜¯è‰²", mental: "åœ“è­‰æ³•èº«ï¼Œåæ–¹ä¸‰ä¸–ä¸€å¿ƒå¦‚å¦‚ï¼Œæ•…çœŸç©ºä»æ˜¯å¦™æœ‰ã€‚", physical: "(1)ç‚ºåŠ å¼·å’Œå”å…¨èº«å„éƒ¨æ©Ÿèƒ½åŠŸç”¨ä¹‹è¡ŒåŠŸã€‚(2)å°é¢¨æ¿•ã€ç¥ç¶“ç—›ã€è…¸èƒƒç—…ã€è‚ºã€è‚ç­‰æ…¢æ€§ç—…æœ‰åŠ©ç™‚ä¹‹ç›Šã€‚" },
        6: { name: "å¤©è€³åœ“é€š", mental: "æ˜è¾¨æ˜¯éã€å–„æƒ¡ã€å…¬ç§ä¹‹ç•Œï¼Œè«¸æƒ¡è«ä½œï¼Œçœ¾å–„å¥‰è¡Œï¼Œåèèè‡ªæ€§ï¼Œæ–¹ä¾¿å³æ˜¯ç©¶ç«Ÿã€‚", physical: "å¢å¼·è½åŠ›ã€è…¦åŠ›åŠŸèƒ½ä¹‹è¡ŒåŠŸã€‚" },
        7: { name: "æ’é™¤å››å¤§", mental: "åœ°æ°´ç«é¢¨ï¼Œå››å¤§èª¿å’Œï¼Œèº«å¼·æ°£å’Œï¼Œå¿ƒæ·¨æ–¹æ˜“ä¿®è¡Œã€‚", physical: "ä»¥è‚ºéƒ¨ã€å…§è‡Ÿç‚ºä¸»ï¼ŒåŠ å¼·å…¨èº«æ©Ÿèƒ½åŠŸç”¨ä¹‹è¡ŒåŠŸï¼Œå°ä¸€åˆ‡å…§ç§‘æ…¢æ€§ç—…æœ‰æ‰€åŠ©ç›Šã€‚" },
        8: { name: "é¼»èæ³•é¦™", mental: "æ‚Ÿå‰ä¾æ³•ä¿®ï¼Œæ‚Ÿå¾Œæ³•æ˜¯å¡µï¼Œå±±çª®æ°´ç›¡è™•ï¼ŒæŸ³æš—èŠ±æ˜åˆä¸€æ‘ã€‚", physical: "å¢å¼·é¼»éƒ¨ã€å‘¼å¸å™¨å®˜åŠè…¦éƒ¨åŠŸèƒ½ä¹‹è¡ŒåŠŸã€‚" },
        9: { name: "é ‚å¤©ç«‹åœ°", mental: "é“å¾·äº‹åŠŸï¼Œå¿—èˆ‡ä½›é½Šï¼Œæ‚²æ™ºé¡˜è¡Œï¼Œä¸€è¡Œåœ“ä¿®ï¼Œèƒ½å¦‚æ˜¯ï¼Œå¯æœ›ä½œå¤©äººå¸«ã€‚", physical: "ä»¥é ­ç‚ºä¸»ï¼Œè²«å’Œå…¨èº«æ°£è„ˆä¹‹è¡ŒåŠŸã€‚" },
        10: { name: "ç¬‘å£å¸¸é–‹", mental: "ä¸€éŸ³èªªæ³•ï¼Œåæ–¹æ™®èï¼Œå¸ƒæ–½ã€æ„›èªã€åˆ©è¡Œã€åŒäº‹ç‚ºè©è–©åŒ–çœ¾ä¹‹å››æ”æ³•ã€‚", physical: "ä»¥å‘¼å¸ç³»çµ±ã€é£Ÿé“ç‚ºä¸»ï¼ŒåŠ å¼·å…§è‡ŸåŠŸèƒ½ç™¼è²ç…‰æ°£å°è‚ºã€å¿ƒã€è‚ã€è…¸èƒƒã€è…¦éƒ¨ç­‰æ…¢æ€§ç—…æœ‰åŠ©ç™‚ä¹‹ç›Šè™•ã€‚" },
        11: { name: "èˆŒåè“®è¯", mental: "å…©èˆŒã€æƒ¡å£ã€å¦„è¨€ã€ç¶ºèªç‚ºæ•—å¾·ä¹‹è¡Œï¼Œæ•…è¨€å¿…æ­£ã€‚", physical: "ä»¥ç¥ç¶“ç³»çµ±ç‚ºä¸»ï¼ŒåŠ å¼·å’Œå”å‘¼å¸ç³»çµ±ã€è…¦éƒ¨åŠå…¨èº«æ©Ÿèƒ½åŠŸç”¨ä¹‹è¡ŒåŠŸã€‚" },
        12: { name: "æ©«å‡ºä¸‰ç•Œ", mental: "å¿µä½›ç‚ºå¾€ç”Ÿæ·¨åœŸä¹‹å¤§æ³•ï¼Œä¸€è²ä½›è™Ÿï¼Œæˆ’ã€å®šã€æ…§å…·è¶³ï¼Œç•¶ä¸‹è¥¿æ–¹æ·¨åœŸåœ¨è‡ªæ€§ä¸­ã€‚", physical: "ä»¥è¶³ç‚ºä¸»ï¼ŒåŠ å¼·å’Œå”å…¨èº«æ°£èƒ½åŠŸç”¨ä¹‹è¡ŒåŠŸï¼Œä¸¦æœ‰ç›Šæ‰“é€šå…©è…¿æ°£è„ˆã€‚" },
        13: { name: "é™é¾ä¼è™", mental: "è²ªã€ç‹ã€ç™¡ä¸‰æ¯’ï¼Œç‚ºç”Ÿæ­»è¼ªè¿´ä¹‹å› ï¼Œå®šæ…§ç­‰æŒï¼Œç•¶ä¸‹ç…©æƒ±å³æ˜¯è©æã€‚", physical: "èº«ã€å¿ƒã€æ°£ã€åŠ›åˆç”¨ï¼ŒåŠ å¼·å…¨èº«æ©Ÿèƒ½åŠŸç”¨ä¹‹è¡ŒåŠŸã€‚å°è„Šæ¤ã€é—œç¯€å…·å¼·åŒ–åŠŸç”¨ï¼Œä¸¦æ˜“æ–¼æ‰“é€šå‰å¾ŒäºŒè„ˆã€‚" },
        14: { name: "å“ç«‹ç‰¹è¡Œ", mental: "å¿—é¡˜ä½œä½›ï¼Œä¾æ³•ä¿®è¡Œï¼Œä¸ç‚ºä¸–é–“åèåˆ©é¤Šï¼Œä»¥è‡³ç”Ÿæ­»è€Œç§»å…¶å¿ƒå¿—ã€‚", physical: "ä»¥è¶³ç‚ºä¸»ï¼ŒåŠ å¼·å’Œå”å…¨èº«æ©Ÿèƒ½åŠŸç”¨ä¹‹è¡ŒåŠŸã€‚" },
        15: { name: "å…­åº¦åœ“ä¿®", mental: "å…­åº¦ä¸€è¡Œä¿®ï¼Œè¬å¾·ç”±å¿ƒåœ“ï¼Œäº‹ç†ä¸äºŒï¼Œè­‰é“ä¹‹é–€ã€‚", physical: "(1)èº«ã€å¿ƒã€æ°£ã€åŠ›åˆä¸€ï¼ŒåŠ å¼·å’Œå”å…¨èº«æ©Ÿèƒ½åŠŸç”¨ä¹‹è¡ŒåŠŸã€‚(2)å°è‚ã€è…ã€è…¸ã€èƒƒã€è‚©è†€èˆ‡èƒ¯éƒ¨é—œç¯€ç­‰æœ‰ç›Šä¹‹è¡ŒåŠŸã€‚" },
        16: { name: "æŠ–è½æ ¹å¡µ", mental: "è¿´è„«æ ¹å¡µï¼Œè½‰è­˜æˆæ™ºã€‚", physical: "ä»¥ç¥ç¶“ç³»çµ±ç‚ºä¸»ï¼ŒåŠ å¼·å’Œå”å…¨èº«æ©Ÿèƒ½åŠŸç”¨ä¹‹è¡ŒåŠŸã€‚" },
        17: { name: "åˆæ®µç¸½çµå¼", mental: "é¬†ã€æ…¢ã€æŸ”ã€ç©ºï¼Œæœ‰å¿µé€²å…¥ç„¡å¿µã€‚", physical: "èº«ã€å¿ƒã€æ°£ä½œæœ€åœ“æ»¿çš„å’Œå”ï¼Œä»¥åˆ©æ‰“é€šå‰å¾Œè„ˆã€ç™¾è„ˆã€ç™¾ç«…ã€‚" },
        18: { name: "è¡Œè…³å››æ–¹", mental: "åˆç™¼å¿ƒè©è–©ï¼Œå»£åƒè‰¯å¸«ç›Šå‹ã€‚", physical: "ä»¥è¶³ç‚ºä¸»ï¼Œèº«ã€å¿ƒã€æ°£ã€åŠ›ä¸€å¦‚ã€‚" },
        19: { name: "ç™¾æ­¥è¡ŒåŠŸ", mental: "ç²¾é€²æ­¡å–œï¼Œç¯¤è¡Œé–€è¦ã€‚", physical: "(1)å°è„Šæ¤ã€è…¦éƒ¨åŠé€šä¸‹è¡Œæ°£æœ‰æ‰€åŠ©ç›Šä¹‹è¡ŒåŠŸã€‚(2)æ¸›è‚¥ã€‚" },
        20: { name: "ååº¦åœ“ä¿®", mental: "ååº¦åœ“æ»¿ã€‚", physical: "(1)åŠ å¼·è„Šæ¤ã€èƒ¯éª¨ã€æ‰‹è…³é—œç¯€ã€è…¦éƒ¨åŠŸèƒ½ä¹‹è¡ŒåŠŸã€‚(2)æ¸›è‚¥ã€‚" },
        21: { name: "å¤©åœ°éœ‡å‹•", mental: "å¯¦è­‰æ³•èº«ï¼Œåæ–¹éœ‡å‹•ã€‚", physical: "ä»¥è…¦ç¥ç¶“ç‚ºä¸»ï¼ŒåŠ å¼·å’Œå”å…¨èº«æ©Ÿèƒ½åŠŸç”¨ä¹‹è¡ŒåŠŸã€‚" },
        22: { name: "å¤§å¦‚æ„æŒå‰è¡Œ", mental: "è³‡æ–™æ•´ç†ä¸­", physical: "è³‡æ–™æ•´ç†ä¸­" },
        23: { name: "åŠ›åŒ–å…­é“", mental: "å¹³ç­‰æ¿Ÿåº¦çœ¾ç”Ÿã€‚", physical: "èº«ã€å¿ƒã€æ°£ã€åŠ›ä¸€å¦‚ã€‚" },
        24: { name: "è‹¦è¡Œç²¾é€²", mental: "æ°¸ä¸æ‡ˆæ€ ã€‚", physical: "ä»¥è…°è…¿ç‚ºä¸»ï¼ŒåŠ å¼·å’Œå”å…¨èº«æ©Ÿèƒ½åŠŸç”¨ä¹‹è¡ŒåŠŸã€‚" }
    };

    let zenData = JSON.parse(localStorage.getItem('zenDataV1_1')) || defaultData;
    let activeId = null;
    let currentAudio = new Audio();

    const listContainer = document.getElementById('main-list');
    Object.keys(zenData).forEach(id => {
        const div = document.createElement('div');
        div.className = 'zen-item';
        div.innerText = `${id}. ${zenData[id].name}`;
        div.onclick = () => showDetail(id);
        listContainer.appendChild(div);
    });

    function showDetail(id) {
        activeId = parseInt(id);
        const item = zenData[id];
        document.getElementById('main-list').style.display = 'none';
        document.getElementById('detail-view').style.display = 'block';
        document.getElementById('detail-title').innerText = `${id}. ${item.name}`;
        
        // åˆ¤æ–·æ˜¯å¦ç‚ºç…‰æ°£å¼ (3, 7, 9)
        const isSpecial = [3, 7, 9].includes(activeId);
        
        // èª¿æ•´æ’­æ”¾ä»‹é¢
        document.getElementById('label-qi').innerText = isSpecial ? "ç…‰æ°£ç‰ˆï¼š" : "å£è¨£ï¼š";
        document.getElementById('audio-row-2').style.display = isSpecial ? "flex" : "none";
        
        // èª¿æ•´å£è¨£æ¨™é¡Œèˆ‡ä¸å¸¶æ°£å€å¡Š
        document.getElementById('title-qi').innerText = isSpecial ? "å‹•ä½œå£è¨£ (å¸¶æ°£ç‰ˆ)" : "å‹•ä½œå£è¨£";
        document.getElementById('no-qi-block').style.display = isSpecial ? "block" : "none";

        // å¡«å…¥è³‡æ–™
        document.getElementById('edit-mental').value = item.mental || "";
        document.getElementById('edit-physical').value = item.physical || "";
        document.getElementById('edit-note').value = item.note || "";
        document.getElementById('edit-steps').value = item.stepsText || "";
        document.getElementById('edit-no-qi').value = item.stepsTextNoQi || "";
        
        window.scrollTo(0,0);
    }

    function saveData() {
        zenData[activeId].mental = document.getElementById('edit-mental').value;
        zenData[activeId].physical = document.getElementById('edit-physical').value;
        zenData[activeId].note = document.getElementById('edit-note').value;
        zenData[activeId].stepsText = document.getElementById('edit-steps').value;
        
        // åªæœ‰ 3,7,9 å„²å­˜ä¸å¸¶æ°£å…§å®¹
        if ([3, 7, 9].includes(activeId)) {
            zenData[activeId].stepsTextNoQi = document.getElementById('edit-no-qi').value;
        }

        localStorage.setItem('zenDataV1_1', JSON.stringify(zenData));
        alert("ç¬¬ " + activeId + " å¼ [" + zenData[activeId].name + "] è³‡æ–™å·²å„²å­˜ï¼");
    }

    function showList() {
        stopAudio();
        document.getElementById('main-list').style.display = 'grid';
        document.getElementById('detail-view').style.display = 'none';
    }

    function playAudio(v) {
        const name = zenData[activeId].name;
        // å‡è¨­æª”åè¦å‰‡ï¼šèº«å¿ƒä¸€å¦‚.mp3 æˆ– èº«å¿ƒä¸€å¦‚2.mp3
        const suffix = (v === 2) ? "2" : "";
        currentAudio.src = `${name}${suffix}.mp3`;
        currentAudio.play().catch(() => alert("æœªæ‰¾åˆ°éŸ³æª”: " + name + suffix + ".mp3"));
    }

    function stopAudio() { currentAudio.pause(); currentAudio.currentTime = 0; }
</script>

</body>
</html>
